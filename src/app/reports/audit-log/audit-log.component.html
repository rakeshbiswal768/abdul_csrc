<div class="row">
  <div class="col-lg-2 mt-3">
    <div class="filterPanel pb-3">
      <span class="textLabel headerRowFilter">FILTER</span>
    </div>
    <form class="">
      <div class="form-group">
        <label for="userSeachbox">By person requesting</label>
        <input type="text" id="userSeachbox" [(ngModel)]="reqUser" aria-describedby="Type name of person to filter requesting data"
          class="form-control userSeachbox searchIcon" name="userSeachbox" />
      </div>
      <div class="form-group">
        <label for="sysUserSearch">By system user:</label>
        <div ngbDropdown class="form-group dropdownContainer">
          <button [ngClass]="{'btn safeDropdown': true}" id="dropdownMenu1" ngbDropdownToggle class="safebtndd">
            <span class="wrapText pr-1">{{displayUser}}</span>
          </button>
          <div ngbDropdownMenu class="dropdown-menu" id="appprover" aria-labelledby="dropdownMenu1">
            <div *ngFor="let user of userList">
              <button class="dropdown-item" (click)="displayUser=user.name">{{user.name}}</button>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="sysUserSearch">By action taken:</label>
        <div ngbDropdown class="form-group dropdownContainer">
          <button [ngClass]="{'btn safeDropdown': true}" id="dropdownMenu2" ngbDropdownToggle class="safebtndd">
            <span class="wrapText pr-1">{{actionfilter == 'All' ? "Show All" : actionfilter}}</span>
          </button>
          <!-- Action taken dropdown is creating unique activity type from log request itself so it will not show all activity type but show only which is available to filter from the activity log - Nimmi: 02/28/2018 -->
          <div ngbDropdownMenu class="dropdown-menu" aria-labelledby="dropdownMenu2">
            <button class="dropdown-item" data-status="auditlog" (click)="actionfilter='All'">
              Show All
            </button>
            <div *ngFor="let auditlog of filterdAlog">
              <button class="dropdown-item" data-status="auditlog" (click)="actionfilter=auditlog">
                {{auditlog}}
              </button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="col-lg-8 auditLog mt-3">
    <div class="row pb-3">
      <div class="col-2 headerRow">
        Date
      </div>
      <div class="col-2 headerRow">
        Requested By
      </div>
      <div class="col-6 headerRow">
        Action taken
      </div>
      <div class="col-2 headerRow">
        System user
      </div>
    </div>
    <div class="row mt-3 pb-3" *ngFor="let auditlog of auditlog|filterUser:displayUser|filterReqBy:reqUser|filterActionTaken:actionfilter">
      <div class="col-2">
        {{auditlog?.activityTime| date:'MMM dd'}}
      </div>
      <div class="col-2">
        {{auditlog?.consumerUser}}
      </div>
      <div class="col-6">
        {{auditlog?.activityType}}
      </div>
      <div class="col-2">
        {{auditlog?.systemUser}}
      </div>
    </div>
  </div>
  <div class="col-lg-2">
    <div class="floatRbtn" (click)="exportCSV()">
      <a href="javascript:void(0);">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="primaryIcon mb-2">
          <path d="M18 12c-0.6 0-1 0.4-1 1v6c0 0.6-0.4 1-1 1h-11c-0.6 0-1-0.4-1-1v-11c0-0.6 0.4-1 1-1h6c0.6 0 1-0.4 1-1s-0.4-1-1-1h-6c-1.7 0-3 1.3-3 3v11c0 1.7 1.3 3 3 3h11c1.7 0 3-1.3 3-3v-6c0-0.6-0.4-1-1-1z"></path>
          <path d="M21.9 2.6c-0.1-0.2-0.3-0.4-0.5-0.5-0.1-0.1-0.3-0.1-0.4-0.1h-6c-0.6 0-1 0.4-1 1s0.4 1 1 1h3.6l-9.3 9.3c-0.4 0.4-0.4 1 0 1.4 0.2 0.2 0.4 0.3 0.7 0.3s0.5-0.1 0.7-0.3l9.3-9.3v3.6c0 0.6 0.4 1 1 1s1-0.4 1-1v-6c0-0.1 0-0.3-0.1-0.4z"></path>
        </svg>
        <span>Export to file</span>
      </a>
    </div>
  </div>
</div>
